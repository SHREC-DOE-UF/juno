LDA $16384 r2
LDA $8 r3
LDA $1 r4
XOR r5 r5 r5
XOR r10 r10 r10
XOR r6 r6 r6
INITLOOP:
SUB r5 r2 r7
JGTZ r7 GUPSBODY
RAND r8
MUL r3 r5 r9
MUL r3 r5 r10
ADD r2 r10 r10
ADD r1 r10 r10
ADD r1 r9 r9
JGTZ r8 SKIPZERO
# if rand is < 0, then
# we will make is ABS(r8)
XOR r12 r12 r12
SUB r12 r8 r8
SKIPZERO:
MOD r8 r2 r11
STORE r8 r9
STORE r11 r10
ADD r4 r5 r5
JZERO r6 INITLOOP
GUPSBODY:
XOR r5 r5 r5
GUPSLOOP:
SUB r5 r2 r7
JGTZ r7 EXITBODY
ADD r4 r5 r5
MUL r3 r5 r10
ADD r1 r10 r10
LOAD r10 r8
LOAD r8 r9
XOR r9 r1 r9
STORE r9 r8
XOR r9 r9 r9
JZERO r9 GUPSLOOP
EXITBODY:
HALT
